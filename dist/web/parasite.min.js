var __extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),p$=function(){var s=function(){function t(){this.length=0}return t.prototype.push=function(t){return void 0===t||t.__lastList__===this||((t.__lastList__=this)[this.length++]=t),this},t.prototype.concat=function(t){var n=this;return t?t.length?(y(t,function(t,e){n.push(e)}),this):this.push(t):this},t}();s.prototype.splice=Array.prototype.splice;var i,t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(s),r="github.com/ECRomaneli/ParasiteJS",e=[NodeList,HTMLCollection,s],n=[Document,Element,Window],o=[Document,Element],u=[Element],a=document,c=window||a.defaultView,f=a.createElement("_"),h=new t,p={contentType:"application/x-www-form-urlencoded; charset=UTF-8",method:"GET",statusCode:{},xhr:function(){return new XMLHttpRequest},headers:{},timeout:0,async:!0},l={};function d(t,e){return!w(e)||(t.matches?t.matches(e):(v(f),f.appendChild(t),!!f.querySelector(e)))}function v(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function y(t,e){if(!t)return t;if(void 0===t.length){for(var n in t)if(!1===e.call(t[n],n,t[n]))break;return t}for(var r=t.length,i=0;i<r&&!1!==e.call(t[i],i,t[i]);i++);return t}function m(e){try{return JSON.parse(e)}catch(t){return e}}function _(t,n,r){var i,o=[],s=g(t),u=encodeURIComponent;return y(t,function(t,e){s&&(t=""),i=n||s?n+"["+t+"]":t,r||"string"==typeof e||"number"==typeof e?o.push(u(i)+"="+u(e)):o.push(_(e,i))}),o.join("&")}function g(t){return t&&void 0!==t.length}function C(e,t){var n=Array.isArray(e)?"array":typeof e,r=function(t){return n===t||("document"===t?e instanceof Document:"window"===t?e instanceof Window:"parasited"===t&&(e instanceof s||e instanceof NodeList||e instanceof HTMLCollection||e instanceof Element||e instanceof Document||e instanceof Window))};return Array.isArray(t)?t.some(r):r(t)}function w(t){return!(null==t)}function E(t){f.innerHTML=t;var e=(new s).concat(f.childNodes);return v(f),e}function T(n,e,r,t){var i=n.length;(t?function(t){for(var e=i-1;0<=e;e--)t(n[e])}:function(t){for(var e=0;e<i;e++)t(n[e])})(function(t){return function(t){if(Array.isArray(t))return!0;if("function"==typeof t||"string"==typeof t||t instanceof Window)return!1;var e=t.length;return"number"==typeof e&&(0===e||0<e&&e-1 in t)}(t)?T(t,e,r):C(t,["string","number"])?r(t):t.parentElement?r(t.outerHTML):e(t)})}function b(t){"loading"!==a.readyState?t(a):a.addEventListener("DOMContentLoaded",function(){t(a)})}function x(t,e,n,r){var i,o;return i=C(e,"string")?{url:e}:e,C(e,"function")?r=n:o=n,i.method=t,i.data=o,i.success=r,L(i)}function L(t,r){void 0===r&&(r={});var n,i=new N;C(t,"string")?r.url=t:r=t,y(p,function(t,e){w(r[t])||(r[t]=e)}),n=r.xhr(),r.beforeSend&&r.beforeSend(n,r),r.method=(r.type||r.method).toUpperCase();var o=r.context||r,e=function(t){var e;w(r.dataFilter)&&(t=r.dataFilter(t,n.getResponseHeader("Content-Type"))),i.resolveWith(o,(e=t,JSON.stringify(e)),"success",n)},s=function(t){var e=n.statusText.replace(/^[\d*\s]/g,"");i.rejectWith(o,n,t,e)};if(w(r.complete)&&i.done(function(t,e,n){r.complete(n,e)}).fail(function(t,e){r.complete(t,e)}),i.done(r.success).fail(r.error),r.data&&"GET"===r.method){var u=-1!==r.url.indexOf("?")?"&":"?";r.url+=u+_(r.data,"",!1)}return n.open(r.method,r.url,r.async,r.username,r.password),w(r.mimeType)&&n.overrideMimeType(r.mimeType),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),w(r.headers)&&y(r.headers,function(t,e){n.setRequestHeader(t,e)}),!1!==r.contentType&&n.setRequestHeader("Content-Type",r.contentType),r.async?n.timeout=r.timeout:console.warn("[Deprecation] Synchronous XMLHttpRequest on the main thread is deprecated because of its detrimental effects to the end user's experience. For more help, check https://xhr.spec.whatwg.org/."),n.onload=function(){var t=r.statusCode[n.status];t&&t(),200===n.status?e(n.response):s("error")},n.onerror=function(){s("error")},n.ontimeout=function(){s("timeout")},n.onabort=function(){s("abort")},"POST"===r.method||"PUT"===r.method?n.send(_(r.data,"",!1)):n.send(),i.promise()}function S(t){return function(){return t.apply(this,arguments),arguments}}function A(t,e,n){return t.forEach(function(t){n=t.apply(e,n)||[void 0]}),n}l.trigger=function(t,e){var n=t;if("string"==typeof t){if("focus"===t)return void this.focus();n=function(t,e){var n,r;r=t.length?t:t.type,c&&CustomEvent?n=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(n=a.createEvent("CustomEvent")).initCustomEvent(r,!0,!0);return y(e,function(t,e){n[t]=e}),n}(t)}return n.detail={},y(e,function(t,e){n.detail[t]=e}),this.dispatchEvent(n),this},l.on=function(t,e,n){var r=this,i=this;e.__handler__=function(){return e.apply(i,arguments)},R(t,function(t){r.addEventListener(t,e.__handler__,n)})},l.one=function(t,e,n){var r=this,i=this;e.__handler__=function(t){return this.removeEventListener(t.type,e.__handler__,n),e.apply(i,arguments)},R(t,function(t){r.addEventListener(t,e.__handler__,n)})},l.off=function(t,e,n){var r=this;e.__handler__&&(e=e.__handler__),R(t,function(t){r.removeEventListener(t,e,n)})},l.attr=function(t,e){var n=this;return"string"!=typeof t?(y(t,function(t,e){n.attr(t,e)}),this):w(e)?(this.setAttribute(t,e),this):this.getAttribute(t)},l.removeAttr=function(t){this.removeAttribute(t)},l.prop=function(t,e){var n=this;return"string"!=typeof t?(y(t,function(t,e){n.prop(t,e)}),this):w(e)?(this[t]=e,this):this[t]},l.removeProp=function(t){w(this[t])&&delete this[t],this.removeAttribute(t)},l.val=function(t){return this.prop("value",t)},l.text=function(t){if(!w(t))return this.textContent;this.textContent=t},l.html=function(t){if(!w(t))return this.innerHTML;this.innerHTML=t},l.data=function(t,e){var n=this;if(this.__dataset__||(this.__dataset__={},y(this.dataset,function(t,e){n.__dataset__[t]=m(e)})),!w(t))return this.__dataset__;if(w(e))return this.__dataset__[t]=e,this;var r=this.__dataset__[t];return w(r)?r:w(r=this.attr(t))?this.__dataset__[t]=m(r):void 0},l.css=function(t,e){var n=this;if("string"!=typeof t)return y(t,function(t,e){n.css(t,e)}),this;if(!w(e))return"number"==typeof e&&(e+="px"),this.style[t]=e,this;var r=this.ownerDocument.defaultView;return r&&r.getComputedStyle?r.getComputedStyle(this,void 0).getPropertyValue(t):this.currentStyle?this.currentStyle[t]:(console.warn("Returning HTMLElement.style, this may not corresponding to the current style."),this.style[t])},l.filter=function(n){var r=new s,i="string"==typeof n;return y(this,function(t,e){i?d(e,n)&&r.push(e):n.call(e,t,e)&&r.push(e)}),r},l.is=function(t){return d(this,t)},l.find=function(t){if(!t)return h;var e=t.match(/^([#.]?)([-\w]+)(.?)/);if(null===e||e[3])return this.findAll(t);if(!e[1])return this.findTag(t);if("."===e[1])return this.findClass(e[2]);var n=this.findId(e[2]);return n===h?h:(new s).push(n)},l.not=function(n){return this.filter("string"==typeof n?function(t,e){return!d(e,n)}:function(t,e){return!n.call(e,t,e)})},l.findAll=function(t){return this.querySelectorAll(t)},l.findId=function(t){var e,n=a.getElementById(t);if(n){if(this===a)return n;e=n.parentNode;do{if(e===this)return n}while(e=e.parentNode)}return h},l.findOne=function(t){return this.querySelector(t)||h},l.findClass=function(t){return this.getElementsByClassName(t)},l.findTag=function(t){return this.getElementsByTagName(t)},l.findName=function(t){var n,r=this,e=a.getElementsByName(t);return this!==a&&e.length?e.filter(function(t,e){n=e.parentNode;do{if(n===r)return!0}while(n=n.parentNode);return!1}):e},l.findChildren=function(t){var e=this.children;return t?e.filter(t):e},l.prepend=function(){var e=this;if(this.native_prepend)return this.native_prepend.apply(this,arguments);T(arguments,function(t){e.insertBefore(t,e.firstChild)},function(t){e.textContent=t+e.textContent},!0)},l.prependTo=function(t){return a.find(t).prepend(this),this},l.append=function(){var e=this;if(this.native_append)return this.native_append.apply(this,arguments);T(arguments,function(t){e.appendChild(t)},function(t){e.textContent+=t})},l.appendTo=function(t){return a.find(t).append(this),this},l.parent=function(t){var e=this.parentElement;if(e&&d(e,t))return e},l.parents=function(t){for(var e=new s,n=this.parent();e.concat(n),(n=n.parent()).length;);return e.filter(t)},l.each=function(t){return y(this,t)},l.get=function(t){return t<0&&(t=this.length+t),t<this.length?this[t]:void 0},l.hasClass=function(t){var e,n=this;return e=function(t){return n.classList.contains(t)},t.split(" ").some(e)},l.addClass=function(t){var e=this;R(t,function(t){e.classList.add(t)})},l.removeClass=function(t){var e=this;R(t,function(t){e.classList.remove(t)})},l.toggleClass=function(t){var e=this;R(t,function(t){e.classList.toggle(t)})},l.remove=function(t){d(this,t)&&(this.native_remove?this.native_remove():this.removeNode?this.removeNode():this.outerHTML="")},l.empty=function(){v(this)},M("findId",o),O("findOne",o),O("findTag",o),O("findName",o),O("findClass",o),O("findAll",o),O("find",o),O("parents",u),O("parent",u),O("findChildren",o),M("is",u),H("filter",e),H("not",e),H("get",e),q("addClass",u),q("toggleClass",u),q("removeClass",u),M("hasClass",u),q("on",n),q("one",n),q("off",n),q("trigger",n),q("prepend",u),q("prependTo",u),q("append",u),q("appendTo",u),q("remove",u),q("empty",o),j("attr",u),q("removeAttr",u),j("prop",u),q("removeProp",u),j("val",u),H(i="text",o),H(i,e,function(){var n=arguments;if(n.length)return y(this,function(t,e){return e[i].apply(e,n)});var r="";return y(this,function(t,e){r+=e[i]()||""}),r.trim()||void 0}),M("html",u),j("data",u),j("css",u),H("each",e);var N=function(){function t(t){this._state="pending",this.pipeline={done:[],fail:[]},t&&t(this)}return t.prototype.changeState=function(t,e,n){return"pending"===this._state&&(this._state=t,this.pipeline.context=e,this.pipeline.args=n,!0)},t.prototype.resolve=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.unshift(this),this.resolveWith.apply(this,t)},t.prototype.reject=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.unshift(this),this.rejectWith.apply(this,t)},t.prototype.resolveWith=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.changeState("resolved",t,e)&&(this.pipeline.args=A(this.pipeline.done,t,e)),this},t.prototype.rejectWith=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.changeState("rejected",t,e)&&(this.pipeline.args=A(this.pipeline.fail,t,e)),this},t.prototype.state=function(){return this._state},t.prototype.promise=function(){return this},t.prototype.done=function(t){return t&&("resolved"===this.state()?t.apply(this.pipeline.context,this.pipeline.args):this.pipeline.done.push(S(t))),this},t.prototype.fail=function(t){return t&&("rejected"===this.state()?t.apply(this.pipeline.context,this.pipeline.args):this.pipeline.fail.push(S(t))),this},t.prototype.then=function(t,e){var n=this.pipeline;return t?("resolved"===this.state()&&t.apply(n.context,n.args),n.done.push(t),e&&("rejected"===this.state()&&e.apply(n.context,n.args),n.fail.push(e)),this):this},t.prototype.always=function(t){return this.done(t).fail(t)},t}();function H(e,t,n){void 0===n&&(n=l[e]),n?t.forEach(function(t){try{t.prototype[e]&&(t.prototype["native_"+e]=t.prototype[e]),t.prototype[e]=n}catch(t){console.warn('The property "'+e+'" is not accessible, please describe your issue on '+r+"."),console.error(t)}}):console.error("Error trying to find "+e+" into pjs object.")}function j(i,t){H(i,t),H(i,e,function(n,r){return r||"object"==typeof n?y(this,function(t,e){e[i](n,r)}):this[0]&&this[0][i](n,r)})}function M(i,t){H(i,t),H(i,e,function(n){var r;return y(this,function(t,e){return!(r=e[i](n))}),r})}function O(o,t){H(o,t),H(o,e,function(n){var r,i=new s;return y(this,function(t,e){g(r=e[o](n))?y(r,function(t,e){i.push(e)}):i.push(r)}),i})}function q(r,t){H(r,t),H(r,e,function(){var n=arguments;return y(this,function(t,e){return e[r].apply(e,n)})})}function R(t,e){t.split(" ").forEach(e)}var W=function(t){return C(t,"function")?b(t):C(t,["document","window"])?t:C(t,"string")?-1!==t.indexOf("<")?E(t):a.find(t):(new s).concat(t)};return W.Deferred=function(t){return new N(t)},W.isNull=function(t){return t===h||null===t},W.globalEval=function(t){var e=a.createElement("script");e.text=t,a.head.appendChild(e).parentNode.removeChild(e)},W.parseHTML=E,W.require=function(t){var e=a.createElement("script");e.src=t,a.body.appendChild(e)},W.ready=b,W.each=y,W.ajax=L,W.post=function(t,e,n){return x("POST",t,e,n)},W.get=function(t,e,n){return x("GET",t,e,n)},W}();